<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" type="text/css" href="./style/style.css">
		<link rel="stylesheet" type="text/css" href="./style/graphics.css">
		<script type="text/javascript" src="./lib/zip.js"></script>
		<script type="text/javascript" src="./lib/zip-ext.js"></script>
		<script type="text/javascript" src="./lib/ga.js"></script>
		<script type="text/javascript" src="./script/main.js"></script>
		<script type="text/javascript" src="./lib/three.js"></script>
		<script type="text/javascript" src="./lib/MTLLoader.js"></script>
		<script type="text/javascript" src="./lib/OBJLoader.js"></script>
		<script type="text/javascript" src="./lib/OrbitControls.js"></script>
		<script type="text/javascript" src="./lib/tween.js"></script>
		<script type="text/javascript" src="./lib/CombinedCamera.js"></script>

	</head>
	<body>
		<div class="main">
			<div class="header">
				<div class="cont"></div>
			</div>
			<div class="body">
				<div class="cont">
					<div class="title">DESIGN REVIEW - VISUALISATION</div>
					<div class="info">

						<div class="info_text"></div>
						<div class="graphics">
							<div class="cont_button top">
								<div class="btn isometric">isometric</div>
								<div class="btn right">right</div>
								<div class="btn front">front</div>
								<div class="btn top">top</div>
								<div class="btn model_1">1</div>
								<div class="btn model_2">2</div>
								<div class="btn_help">?</div>
							</div>
							<div class="word">
								<div id='parent'></div>
							</div>
							<div class="cont_button bottom">
								<div class="btn screen">screen capture</div>
								<div class="btn_help">?</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="footer">
				<div class="cont">
					<div class="cont_bottom">
						<div class="btn back">back</div>
						<div class="btn next active">next</div>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			var parent = document.getElementById('parent');
			var mpanel = new MpanelViewer(parent);
			var url_img = './image/texture.jpg';
			var arr_url = [ './data/MPSD2.obj', './data/as2.obj' ];
			mpanel.loadObj(arr_url[0])

			var model_1 = document.querySelector('.model_1');
			var model_2 = document.querySelector('.model_2');
			model_1.classList.add('active');

			model_1.addEventListener('click', function(){
				model_1.classList.add('active');
				model_2.classList.remove('active');
				mpanel.loadObj( arr_url[0] );
			});
			model_2.addEventListener('click', function(){
				model_2.classList.add('active');
				model_1.classList.remove('active');
				mpanel.loadObj( arr_url[1], url_img );
			});

			var btn_isometric = document.querySelector('.graphics .btn.isometric');
			var input_isometric = document.getElementById('isometric'); // document.querySelector('.graphics .btn.isometric');
			var btn_right = document.querySelector('.graphics .btn.right');
			var btn_front = document.querySelector('.graphics .btn.front');
			var btn_top = document.querySelector('.graphics .btn.top');

			/*input_isometric.addEventListener('change', function(){
				if(this.checked){
					btn_isometric.classList.add('active');
				} else {
					btn_isometric.classList.remove('active');
				}
				mpanel.perspective(this.checked);
			});*/
			btn_isometric.addEventListener('click', function(){
				mpanel.viewIsometric();
			});
			btn_right.addEventListener('click', function(){
				mpanel.viewRight();
			});
			btn_front.addEventListener('click', function(){
				mpanel.viewFront();
			});
			btn_top.addEventListener('click', function(){
				mpanel.viewTop();
			});

			var btn_sreen = document.querySelector('.graphics .screen');

			btn_sreen.addEventListener('click', function(){
				mpanel.getScreen();
			});

		</script>
	</body>
</html>